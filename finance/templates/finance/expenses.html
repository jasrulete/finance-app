{% load static %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Expenses</title>

    <link rel="stylesheet" href="{% static 'pages/expenses/expenses.css' %}" />
    <link rel="stylesheet" href="{% static 'css/colors.css' %}" />
    <script src="{% static 'pages/expenses/expenses.js' %}"></script>

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=K2D:wght@400;500;700&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/icon?family=Material+Icons"
      rel="stylesheet"
    />
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels"></script>
  </head>
  <body>
    <header class="header" role="banner">
      <a href="{% url 'dashboard' %}">
        <div class="logo">
          <div class="logo-icon">
            <img
              src="{% static 'pics/mockLogo.png' %}"
              alt="BudgetWise Logo"
              class="logo-img"
            />
          </div>
          <div class="logo-text">BudgetWise</div>
        </div>
      </a>
      <div class="user-profile">
        <div class="user-avatar">
          <img
            src="{% static 'pics/user1.png' %}"
            alt="User Avatar"
            class="avatar-image"
          />
        </div>
        <div class="user-info">
          <span class="user-name">{{ user.username }}</span>
          <a class="btn btn-outline-light ms-2" href="{% url 'logout' %}"
            >Logout</a
          >
        </div>
      </div>
    </header>

    <div class="container">
      <!-- Sidebar -->
      <aside class="sidebar" role="complementary">
        <a href="{% url 'dashboard' %}">
          <div class="menu-item">
            <span class="material-icons">dashboard</span><span>Dashboard</span>
          </div>
        </a>
        <a href="{% url 'finance:expenses-page' %}">
          <div class="menu-item active">
            <span class="material-icons">payments</span><span>Expenses</span>
          </div>
        </a>
        <a href="{% url 'finance:entry-list' %}">
          <div class="menu-item">
            <span class="material-icons">work_history</span>
            <span>Transactions</span>
          </div>
        </a>
        <a href="{% url 'finance:entry-export' %}">
          <div class="menu-item">
            <span class="material-icons">file_download</span><span>Export</span>
          </div>
        </a>
      </aside>

      <div class="main-content">
        <div class="welcome-message">
          <h1>Expenses</h1>
          <p>
            Record your daily expenses and maintain control over your finances.
          </p>
        </div>

        <div class="expense-dashboard">
          <div class="pie-chart-container">
            <canvas id="expense-pie-chart"></canvas>
          </div>
          <button id="add-expense-btn" class="add-expense-button">
            Add Expense
          </button>
        </div>

        <div class="entry-message">
          <h1>Add an Entry</h1>
          <p>
            Record a new financial entry to stay in control of your spending and
            earnings
          </p>
        </div>

        <div class="form-container" id="entry-form">
          <!-- Left Column -->
          <div class="input-section">
            <div class="label">TITLE</div>
            <div class="title-input">
              <input
                type="text"
                id="entry-name"
                placeholder="Entry Name"
                required
              />
            </div>

            <div class="label" style="margin-top: 20px">CATEGORY</div>
            <div class="category-select">
              <select id="category">
                <option value="" disabled selected>Select a Category</option>
                <option value="food">Food</option>
                <option value="transportation">Transportation</option>
                <option value="entertainment">Entertainment</option>
                <option value="utilities">Utilities</option>
                <option value="salary">Salary</option>
                <option value="other">Other</option>
              </select>
            </div>

            <div class="label" style="margin-top: 20px">DATE</div>
            <div class="date-input">
              <input
                type="date"
                id="date"
                class="date"
                placeholder="Today"
                required
              />
              <span class="material-icons calendar">calendar_month</span>
            </div>

            <div class="type-buttons">
              <button id="income-btn" class="type-button income-button">
                Income
              </button>
              <button id="expense-btn" class="type-button expense-button">
                Expense
              </button>
            </div>
          </div>

          <!-- Middle Column: Calculator -->
          <div class="calc-section">
            <div class="label">AMOUNT</div>
            <div id="amount-display" class="amount-display">â‚±</div>
            <div class="calc-buttons">
              <button class="calc-button" onclick="appendToDisplay('1')">
                1
              </button>
              <button class="calc-button" onclick="appendToDisplay('2')">
                2
              </button>
              <button class="calc-button" onclick="appendToDisplay('3')">
                3
              </button>
              <button class="calc-button special" onclick="appendOperator('+')">
                +
              </button>
              <button class="calc-button" onclick="appendToDisplay('4')">
                4
              </button>
              <button class="calc-button" onclick="appendToDisplay('5')">
                5
              </button>
              <button class="calc-button" onclick="appendToDisplay('6')">
                6
              </button>
              <button class="calc-button special" onclick="appendOperator('-')">
                -
              </button>
              <button class="calc-button" onclick="appendToDisplay('7')">
                7
              </button>
              <button class="calc-button" onclick="appendToDisplay('8')">
                8
              </button>
              <button class="calc-button" onclick="appendToDisplay('9')">
                9
              </button>
              <button class="calc-button special" onclick="appendOperator('*')">
                *
              </button>
              <button class="calc-button" onclick="appendToDisplay('.')">
                .
              </button>
              <button class="calc-button" onclick="appendToDisplay('0')">
                0
              </button>
              <button class="calc-button special" onclick="calculate()">
                =
              </button>
              <button class="calc-button special" onclick="appendOperator('/')">
                /
              </button>
            </div>
          </div>

          <!-- Right Column -->
          <div class="input-section">
            <div class="label">NOTES</div>
            <textarea id="notes" class="notes-textarea"></textarea>
            <button id="submit-btn" class="submit-button">Add Entry</button>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
